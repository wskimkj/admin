<!DOCTYPE html>
<html lang="ko">
<head>
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
  <meta charset="UTF-8">
  <title>ì–´ë“œë¯¼</title>
  <!-- íŒŒë¹„ì½˜ -->
  <link rel="icon" type="image/png" href="apple-touch-icon (1).ico">

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">

  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      margin: 0;
      min-height: 100vh;
      padding: 24px;
      font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
      background:
        radial-gradient(circle at top left, #ffe4f1 0, rgba(255,255,255,0) 55%),
        radial-gradient(circle at bottom right, #ffd8b5 0, rgba(255,255,255,0) 55%),
        #fdf2ff;
      color: #333;
      overflow: hidden;
    }

    /* ğŸŸ£ ì „ì²´ ì•± */
    .app-shell {
      position: relative;
      width: 100%;
      height: calc(100vh - 48px);
      border-radius: 28px;
      background: rgba(255,255,255,0.98);
      box-shadow:
        0 24px 60px rgba(148, 163, 184, 0.42),
        0 0 0 1px rgba(255,255,255,0.7);
      overflow: hidden;
    }

    /* ğŸŸ£ Sidebar */
    .sidebar {
      position: absolute;
      top: 0;
      left: 0;
      width: 92px;  /* ê¸°ë³¸ ì¢ì€ ìƒíƒœ */
      height: 100%;
      background: linear-gradient(180deg, #7c3aed 0%, #ec4899 45%, #fbcfe8 100%);
      display: flex;
      flex-direction: column;
      padding: 28px 0 16px;
      transition: width 0.35s ease;
      backdrop-filter: blur(6px);
      z-index: 15;
    }

    .sidebar-main {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      flex: 1;
    }

    .sidebar-bottom {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: auto;
      padding-top: 8px;
      border-top: 1px solid rgba(255,255,255,0.25);
    }

    .sidebar:hover {
      width: 260px;
    }

    /* ë©”ë‰´ êµ¬ì„± */
    .sidebar a {
      display: flex;
      align-items: center;
      width: 86%;
      padding: 9px 16px;      /* â¬… ì•½ 20% ì¤„ì„ */
      margin: 4px 0;          /* â¬… ê°„ê²© ì‚´ì§ ê°ì†Œ */
      color: #fff;
      text-decoration: none;
      border-radius: 18px;
      transition: all 0.25s ease;
      font-weight: 500;
      font-size: 13px;        /* â¬… í°íŠ¸ë„ ì•½ê°„ ì¤„ì„ */
      background: rgba(255,255,255,0.06);
      backdrop-filter: blur(4px);
    }

    .sidebar a i {
      font-size: 20px;        /* â¬… ì¡°ê¸ˆ ì¤„ì„ */
      margin-right: 12px;
      padding: 9px;          /* â¬… padding ê°ì†Œ */
      border-radius: 50%;
      background: rgba(255,255,255,0.18);
      box-shadow: 0 6px 14px rgba(15,23,42,0.18);
      flex-shrink: 0;
    }

    /* hover ì‹œ í…ìŠ¤íŠ¸ ë“±ì¥ */
    .sidebar a span {
      opacity: 0;
      transform: translateX(-8px);
      transition: all 0.25s ease;
      white-space: nowrap;
    }

    .sidebar:hover a span {
      opacity: 1;
      transform: translateX(0);
    }

    /* Active */
    .sidebar a.active {
      background: #fff;
      color: #7c3aed;
      box-shadow:
        0 10px 22px rgba(248, 113, 113, 0.25),
        0 0 0 1px rgba(249, 250, 251, 0.9);
    }

    .sidebar a.active i {
      background: linear-gradient(135deg, #8b5cf6, #ec4899, #fbcfe8);
      color: #fff;
    }

    /* Google sheet sub */
    .google-sub {
      display: none;
      width: 100%;
      padding-left: 20px;
    }

    .google-sub a {
      margin: 3px 0;
      background: rgba(255,255,255,0.12);
    }

    /* ğŸŸ£ Content */
    .content {
      position: absolute;
      top: 0;
      left: 92px;  /* ê¸°ë³¸ ì‚¬ì´ë“œë°” ê³µê°„ */
      width: calc(100% - 92px);
      height: 100%;
      transition: left 0.35s ease, width 0.35s ease;
    }

    .sidebar:hover ~ .content {
      left: 260px;
      width: calc(100% - 260px);
    }

    /* Card */
    .card {
      width: 100%;
      height: 100%;
      border-radius: 24px;
      background: radial-gradient(circle at top left, #fef3ff 0%, #ffffff 50%, #f1f5f9 100%);
      box-shadow:
        0 18px 40px rgba(148, 163, 184, 0.28),
        inset 0 1px 0 rgba(255,255,255,0.9);
      padding: 10px;
      position: relative;
    }

    /* Iframe */
    iframe {
      width: 100%;
      height: 100%;
      border: none;
      border-radius: 20px;
      background: #ffffff;
      box-shadow:
        0 12px 28px rgba(148, 163, 184, 0.25),
        0 0 0 1px rgba(226, 232, 240, 0.6);
    }

    /* ğŸŸ£ êµ¬ê¸€ ì‹œíŠ¸ í•˜ìœ„ ë©”ë‰´ ë¯¸ë¦¬ë³´ê¸° íŒ¨ë„ */
    .preview-panel {
      position: absolute;
      top: 0;
      left: 92px;
      width: 260px;
      height: 100%;
      background: #f9fafb;
      box-shadow:
        8px 0 24px rgba(15, 23, 42, 0.18),
        0 0 0 1px rgba(226, 232, 240, 0.8);
      border-radius: 0 24px 24px 0;
      padding: 10px;
      display: none;
      z-index: 14;
      transition: left 0.35s ease;
    }

    .preview-panel iframe {
      width: 100%;
      height: 100%;
      border-radius: 14px;
      box-shadow: none;
    }

    .sidebar:hover ~ .preview-panel {
      left: 260px;
    }

    /* ğŸŸ£ í—¤ë” */
    .header {
      position: absolute;
      top: 16px;
      left: 110px;
      font-size: 20px;
      font-weight: 600;
      color: #4b5563;
      z-index: 5;
      transition: left 0.35s ease;
    }

    .sidebar:hover ~ .header {
      left: 280px;
    }

    /* ğŸŸ£ ì´ë²¤íŠ¸ ìº˜ë¦°ë” ë·° */
    #eventView {
      position: absolute;
      inset: 10px;
      border-radius: 20px;
      background: rgba(255,255,255,0.9);
      box-shadow:
        0 12px 28px rgba(148, 163, 184, 0.25),
        0 0 0 1px rgba(226,232,240,0.7);
      padding: 18px 20px 16px;
      display: none;  /* ê¸°ë³¸ì€ ìˆ¨ê¹€ */
      overflow-y: auto;
    }

    .event-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 14px;
      gap: 8px;
    }

    .event-header-title {
      font-size: 18px;
      font-weight: 600;
      color: #1f2933;
    }

    .event-header-sub {
      font-size: 12px;
      color: #6b7280;
      margin-top: 2px;
    }

    .event-btn {
      border: none;
      outline: none;
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 11px;
      font-weight: 500;
      background: linear-gradient(135deg, #6366f1, #ec4899);
      color: #fff;
      cursor: pointer;
      box-shadow: 0 8px 16px rgba(99,102,241,0.4);
      display: inline-flex;
      align-items: center;
      gap: 4px;
      white-space: nowrap;
    }

    .event-btn i {
      font-size: 14px;
      padding: 0;
      background: transparent;
      box-shadow: none;
      margin: 0;
    }

    .event-list {
      margin-top: 8px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .event-month {
      font-size: 13px;
      font-weight: 600;
      color: #6b7280;
      margin-top: 6px;
      margin-bottom: 4px;
    }

    .event-item {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      padding: 10px 11px;
      border-radius: 14px;
      background: linear-gradient(135deg, #f1f5f9, #ffffff);
      box-shadow:
        0 10px 20px rgba(148, 163, 184, 0.18),
        0 0 0 1px rgba(226,232,240,0.9);
    }

    .event-date-badge {
      min-width: 60px;
      text-align: center;
      border-radius: 12px;
      padding: 4px 6px;
      background: #eef2ff;
      font-size: 11px;
      color: #4f46e5;
      font-weight: 600;
      line-height: 1.4;
    }

    .event-date-badge span {
      display: block;
    }

    .event-main {
      flex: 1;
    }

    .event-title {
      font-size: 13px;
      font-weight: 600;
      color: #111827;
      margin-bottom: 3px;
    }

    .event-meta {
      font-size: 11px;
      color: #6b7280;
      margin-bottom: 4px;
    }

    .event-mall-tag {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 2px 7px;
      border-radius: 999px;
      background: #ecfeff;
      font-size: 10px;
      color: #0369a1;
      font-weight: 500;
      margin-right: 4px;
    }

    .event-desc {
      font-size: 11px;
      color: #4b5563;
    }

    .event-empty {
      font-size: 12px;
      color: #9ca3af;
      margin-top: 10px;
    }

    /* ì¡°ê¸ˆ ë” ì‘ì•„ì¡Œì„ ë•Œ */
    @media (max-width: 900px) {
      body { padding: 10px; overflow: auto; }
      .app-shell {
        height: auto;
        min-height: calc(100vh - 20px);
      }
      .sidebar { position: fixed; height: calc(100vh - 20px); }
      .header, .content { position: relative; left: 0; width: 100%; }
      .header { margin-left: 80px; }
      .content { margin-left: 80px; height: auto; min-height: 60vh; }
      .sidebar:hover ~ .header,
      .sidebar:hover ~ .content {
        left: 0;
        width: 100%;
        margin-left: 230px;
      }
      .preview-panel {
        display: none !important; /* ëª¨ë°”ì¼ì—ì„œëŠ” ë¯¸ë¦¬ë³´ê¸° íŒ¨ë„ ìˆ¨ê¹€ */
      }
    }
  </style>
</head>
<body>

<div class="app-shell">
  <!-- ì‚¬ì´ë“œë°” -->
  <div class="sidebar">
    <div class="sidebar-main">
      <a href="https://wskimkj.github.io/search/" class="active" data-title="ìƒí’ˆ ì¡°íšŒ" data-id="search">
        <i class='bx bx-search'></i><span>ìƒí’ˆ ì¡°íšŒ</span>
      </a>

      <a href="https://wskimkj.github.io/return-inf/" data-title="ë°œì£¼ì„œ" data-id="order">
        <i class='bx bx-cart'></i><span>ë°œì£¼ì„œ</span>
      </a>

      <a href="https://wskimkj.github.io/tracking/" data-title="ë°°ì†¡ì¡°íšŒ" data-id="tracking">
        <i class='bx bx-package'></i><span>ë°°ì†¡ ì¡°íšŒ</span>
      </a>

      <a href="https://wskimkj.github.io/template/" data-title="í…œí”Œë¦¿">
        <i class='bx bx-message'></i><span>í…œí”Œë¦¿</span>
      </a>

      <a href="https://wskimkj.github.io/refund24/" data-title="í™˜ë¶ˆ ê³„ì‚°ê¸°">
        <i class='bx bx-calculator'></i><span>í™˜ë¶ˆ ê³„ì‚°ê¸°</span>
      </a>

      <a href="https://wskimkj.github.io/account/" data-title="ê³„ì •">
        <i class='bx bx-lock'></i><span>ê³„ì •</span>
      </a>

      <a href="https://wskimkj.github.io/memo/" data-title="ë©”ëª¨">
        <i class='bx bx-pen'></i><span>ë©”ëª¨</span>
      </a>

      <!-- ğŸŸ£ êµ¬ê¸€ ì‹œíŠ¸ ë©”ì¸ -->
      <a href="#" class="google-main" data-title="êµ¬ê¸€ ì‹œíŠ¸" data-id="google">
        <i class='bx bx-spreadsheet'></i><span>êµ¬ê¸€ ì‹œíŠ¸</span>
      </a>

      <!-- ğŸŸ£ êµ¬ê¸€ ì‹œíŠ¸ í•˜ìœ„ ë©”ë‰´ -->
      <div class="google-sub">
        <a href="https://docs.google.com/spreadsheets/d/1_L12NKkBVU4c5xDPrYLUQRnSUG2NoAwYGWIfPDVO3bM/edit?gid=366983013#gid=366983013"
           data-title="ê°œì¸ì‹œíŠ¸" class="google-child">
          <i class='bx bx-chevron-right'></i><span>ê°œì¸ì‹œíŠ¸</span>
        </a>

        <a href="https://docs.google.com/spreadsheets/d/1_Bxfag-90U6u-6JbhxNqeoD9vRns-CpPeXPIJYO1Z5o/edit?gid=1265906605#gid=1265906605"
           data-title="ë°˜í’ˆ" class="google-child">
          <i class='bx bx-chevron-right'></i><span>ë°˜í’ˆ</span>
        </a>

        <a href="https://docs.google.com/spreadsheets/d/1Cjoo-x9lBA5pFtGoxftdAxdoKrzt770XcPGeXOidPiI/edit?gid=0#gid=0"
           data-title="Team.ë°˜í’ˆ" class="google-child">
          <i class='bx bx-chevron-right'></i><span>Team.ë°˜í’ˆ</span>
        </a>

        <a href="https://docs.google.com/spreadsheets/d/1LPy69E2yPTaSwxFAYrX6qV0BZx1tW0YdonLRNqeo5Vc/edit?gid=0#gid=0"
           data-title="Team.ë¬¼ë¥˜" class="google-child">
          <i class='bx bx-chevron-right'></i><span>Team.ë¬¼ë¥˜</span>
        </a>

        <a href="https://docs.google.com/spreadsheets/d/1cAXTlsGoK8FNEZ-7PaR7dfLjykPfCqLOIcyBqqdu3wY/edit?gid=925106579#gid=925106579"
           data-title="Team.ì—…ë¬´" class="google-child">
          <i class='bx bx-chevron-right'></i><span>Team.ì—…ë¬´</span>
        </a>

        <a href="https://docs.google.com/spreadsheets/d/1dvTCc9JlORbvc29rQ_ai-z8RQSPibQUPHvjrH4iuhFk/edit?gid=1184149787#gid=1184149787"
           data-title="Team.ì£¼ê°„" class="google-child">
          <i class='bx bx-chevron-right'></i><span>Team.ì£¼ê°„</span>
        </a>
      </div>
    </div>

    <!-- ì‚¬ì´ë“œë°” í•˜ë‹¨: ì´ë²¤íŠ¸ ì•Œë¦¼ -->
    <div class="sidebar-bottom">
      <a href="#" class="event-link" data-title="ì´ë²¤íŠ¸ ì•Œë¦¼" data-id="event">
        <i class='bx bx-calendar-event'></i><span>ì´ë²¤íŠ¸ ì•Œë¦¼</span>
      </a>
    </div>
  </div>

  <!-- êµ¬ê¸€ ì‹œíŠ¸ í•˜ìœ„ ë©”ë‰´ ë¯¸ë¦¬ë³´ê¸° íŒ¨ë„ -->
  <div class="preview-panel" id="previewPanel">
    <iframe id="previewFrame"></iframe>
  </div>

  <!-- í—¤ë” -->
  <div class="header" id="headerTitle">
    ìƒí’ˆ ì¡°íšŒ
  </div>

  <!-- ë©”ì¸ ì»¨í…ì¸  -->
  <div class="content">
    <div class="card">
      <!-- ê¸°ë³¸ iframe -->
      <iframe src="https://wskimkj.github.io/search/" id="mainFrame"></iframe>

      <!-- ì´ë²¤íŠ¸ ìº˜ë¦°ë” ë·° -->
      <div id="eventView">
        <div class="event-header">
          <div>
            <div class="event-header-title">ì´ë²¤íŠ¸ ìº˜ë¦°ë”</div>
            <div class="event-header-sub">
              êµ¬ê¸€ ì‹œíŠ¸ ê¸°ì¤€: ì‡¼í•‘ëª°(Cì—´), ì‹œì‘ì¼(Dì—´), ì¢…ë£Œì¼(Eì—´), ì´ë²¤íŠ¸ ë‚´ìš©(Fì—´)
            </div>
          </div>
          <button class="event-btn" id="openSheetBtn">
            <i class="bx bx-link-external"></i>
            ì‹œíŠ¸ ì—´ê¸°
          </button>
        </div>
        <div class="event-list" id="eventCalendar"></div>
      </div>
    </div>
  </div>
</div>

<script>
  const links = document.querySelectorAll('.sidebar a');
  const headerTitle = document.getElementById('headerTitle');
  const iframe = document.getElementById('mainFrame');

  const googleMain = document.querySelector(".google-main");
  const googleSub = document.querySelector(".google-sub");
  const sidebar = document.querySelector(".sidebar");

  const previewPanel = document.getElementById('previewPanel');
  const previewFrame = document.getElementById('previewFrame');

  const eventView = document.getElementById('eventView');
  const openSheetBtn = document.getElementById('openSheetBtn');

  const EVENT_SHEET_URL = "https://docs.google.com/spreadsheets/d/1Cjoo-x9lBA5pFtGoxftdAxdoKrzt770XcPGeXOidPiI/edit?pli=1&gid=1830278768#gid=1830278768";

  // ìƒí’ˆ ì¡°íšŒ URL ì €ì¥
  iframe.onload = () => {
    if (iframe.src.includes("search")) {
      localStorage.setItem("lastSearchURL", iframe.src);
    }
  };

  // êµ¬ê¸€ ì‹œíŠ¸ í•˜ìœ„ë©”ë‰´ ë¯¸ë¦¬ë³´ê¸° íŒ¨ë„ ìˆ¨ê¹€ íƒ€ì´ë¨¸
  let previewHideTimeout = null;

  // êµ¬ê¸€ ì‹œíŠ¸ ë©”ì¸ ë²„íŠ¼ â†’ í•˜ìœ„ ë©”ë‰´ í† ê¸€
  function toggleGoogleSub() {
    const isHidden = getComputedStyle(googleSub).display === "none";
    googleSub.style.display = isHidden ? "block" : "none";
  }

  googleMain.addEventListener('click', (e) => {
    e.preventDefault();
    toggleGoogleSub();
  });

  links.forEach(link => {
    // google-main ì€ ìœ„ì—ì„œ ë”°ë¡œ ì²˜ë¦¬í–ˆìœ¼ë‹ˆ ì—¬ê¸°ì„  ì œì™¸
    if (link.classList.contains('google-main')) return;

    link.addEventListener('click', e => {
      e.preventDefault();

      // ì´ë²¤íŠ¸ ì•Œë¦¼ ëª¨ë“œì¸ì§€ ì•„ë‹Œì§€ì— ë”°ë¼ ë·° ì „í™˜
      const isEventLink = link.dataset.id === "event";

      // í•­ìƒ ê¸°ë³¸ì ìœ¼ë¡œ iframe ë³´ì´ê²Œ / ì´ë²¤íŠ¸ ë·° ìˆ¨ê¸°ê¸°
      iframe.style.display = isEventLink ? 'none' : 'block';
      eventView.style.display = isEventLink ? 'block' : 'none';

      // active ì²˜ë¦¬
      links.forEach(l => l.classList.remove('active'));
      link.classList.add('active');

      // í—¤ë” ë³€ê²½
      if (link.dataset.title) {
        headerTitle.textContent = link.dataset.title;
      }

      // ì´ë²¤íŠ¸ ì•Œë¦¼: ë‚´ë¶€ ë·°ë§Œ ì‚¬ìš©, iframe ë³€ê²½ X
      if (isEventLink) {
        return;
      }

      // êµ¬ê¸€ ì‹œíŠ¸ í•˜ìœ„ë©”ë‰´
      if (link.classList.contains("google-child")) {
        iframe.src = link.href;
        return;
      }

      // ìƒí’ˆ ì¡°íšŒ: ì´ì „ URL ìœ ì§€
      if (link.dataset.id === "search") {
        const last = localStorage.getItem("lastSearchURL");
        iframe.src = last ? last : link.href;
        return;
      }

      // ì¼ë°˜ í˜ì´ì§€ ì´ë™
      iframe.src = link.href;
    });
  });

  // ğŸŸ£ êµ¬ê¸€ ì‹œíŠ¸ í•˜ìœ„ ë©”ë‰´ ë¯¸ë¦¬ë³´ê¸° ìŠ¬ë¼ì´ë”
  const googleChildren = document.querySelectorAll('.google-child');

  googleChildren.forEach(child => {
    child.addEventListener('mouseenter', () => {
      if (previewHideTimeout) clearTimeout(previewHideTimeout);
      previewPanel.style.display = 'block';
      if (previewFrame.src !== child.href) {
        previewFrame.src = child.href;
      }
    });
  });

  function scheduleHidePreview() {
    previewHideTimeout = setTimeout(() => {
      previewPanel.style.display = 'none';
    }, 300);
  }

  sidebar.addEventListener('mouseleave', scheduleHidePreview);
  previewPanel.addEventListener('mouseleave', scheduleHidePreview);
  previewPanel.addEventListener('mouseenter', () => {
    if (previewHideTimeout) clearTimeout(previewHideTimeout);
  });

  // ğŸŸ£ ì´ë²¤íŠ¸ ì‹œíŠ¸ ì—´ê¸° ë²„íŠ¼
  openSheetBtn.addEventListener('click', () => {
    window.open(EVENT_SHEET_URL, '_blank');
  });

  // ğŸŸ£ ì´ë²¤íŠ¸ ë°ì´í„° ì˜ˆì‹œ
  // ì‹¤ì œë¡œëŠ” ì´ ë¶€ë¶„ì„ êµ¬ê¸€ ì‹œíŠ¸(C,D,E,Fì—´)ì—ì„œ ë¶ˆëŸ¬ì™€ì„œ ì±„ìš°ë©´ ë¨.
  // mall â†’ Cì—´(ì‡¼í•‘ëª°), start â†’ Dì—´(ì‹œì‘ì¼), end â†’ Eì—´(ì¢…ë£Œì¼), title/desc â†’ Fì—´(ì´ë²¤íŠ¸ ë‚´ìš©)
  const events = [
    {
      mall: "ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´",
      title: "ì—°ë§ íŠ¹ê°€ ì´ë²¤íŠ¸",
      desc: "ì „ ì¹´í…Œê³ ë¦¬ ìµœëŒ€ 20% í• ì¸",
      start: "2025-12-15",
      end: "2025-12-31"
    },
    {
      mall: "11ë²ˆê°€",
      title: "ì£¼ë§ í•œì • ì¿ í°",
      desc: "5ë§Œì› ì´ìƒ êµ¬ë§¤ ì‹œ 5ì²œì› ì¦‰ì‹œ í• ì¸",
      start: "2025-12-07",
      end: "2025-12-08"
    },
    {
      mall: "ì¿ íŒ¡",
      title: "ìƒˆí•´ ë§ì´ í”„ë¡œëª¨ì…˜",
      desc: "ë¡œì¼“ë°°ì†¡ ìƒí’ˆ ì¶”ê°€ ì ë¦½",
      start: "2026-01-01",
      end: "2026-01-10"
    }
  ];

  function formatDate(dateStr) {
    const d = new Date(dateStr);
    if (isNaN(d)) return dateStr;
    const y = d.getFullYear();
    const m = String(d.getMonth() + 1).padStart(2, "0");
    const day = String(d.getDate()).padStart(2, "0");
    return `${y}.${m}.${day}`;
  }

  function getMonthKey(dateStr) {
    const d = new Date(dateStr);
    if (isNaN(d)) return "ê¸°íƒ€";
    const y = d.getFullYear();
    const m = String(d.getMonth() + 1).padStart(2, "0");
    return `${y}-${m}`;
  }

  function renderEvents() {
    const container = document.getElementById('eventCalendar');
    container.innerHTML = "";

    if (!events || events.length === 0) {
      const empty = document.createElement('div');
      empty.className = 'event-empty';
      empty.textContent = "ë“±ë¡ëœ ì´ë²¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.";
      container.appendChild(empty);
      return;
    }

    // ë‚ ì§œ ê¸°ì¤€ ì •ë ¬
    const sorted = [...events].sort((a, b) => {
      return new Date(a.start) - new Date(b.start);
    });

    // ì›”ë³„ ê·¸ë£¹í•‘
    const byMonth = {};
    sorted.forEach(ev => {
      const key = getMonthKey(ev.start);
      if (!byMonth[key]) byMonth[key] = [];
      byMonth[key].push(ev);
    });

    Object.keys(byMonth).sort().forEach(monthKey => {
      const [year, month] = monthKey.split("-");
      const monthLabel = `${year}ë…„ ${Number(month)}ì›”`;

      const monthEl = document.createElement('div');
      monthEl.className = "event-month";
      monthEl.textContent = monthLabel;
      container.appendChild(monthEl);

      byMonth[monthKey].forEach(ev => {
        const item = document.createElement('div');
        item.className = 'event-item';

        const dateBadge = document.createElement('div');
        dateBadge.className = 'event-date-badge';
        const startFormatted = formatDate(ev.start);
        const endFormatted = formatDate(ev.end);
        dateBadge.innerHTML = `<span>${startFormatted}</span><span>~ ${endFormatted}</span>`;

        const main = document.createElement('div');
        main.className = 'event-main';

        const title = document.createElement('div');
        title.className = 'event-title';
        title.textContent = ev.title || "(ì œëª© ì—†ìŒ)";

        const meta = document.createElement('div');
        meta.className = 'event-meta';

        const mallTag = document.createElement('span');
        mallTag.className = 'event-mall-tag';
        mallTag.innerHTML = `<i class='bx bx-store'></i>${ev.mall || "ì‡¼í•‘ëª° ë¯¸ì§€ì •"}`;

        meta.appendChild(mallTag);

        const desc = document.createElement('div');
        desc.className = 'event-desc';
        desc.textContent = ev.desc || "";

        main.appendChild(title);
        main.appendChild(meta);
        main.appendChild(desc);

        item.appendChild(dateBadge);
        item.appendChild(main);

        container.appendChild(item);
      });
    });
  }

  // ì´ˆê¸° ì´ë²¤íŠ¸ ë Œë”ë§
  renderEvents();
</script>

</body>
</html>
